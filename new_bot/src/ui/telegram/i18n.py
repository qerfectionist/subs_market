from typing import Dict

TRANSLATIONS: Dict[str, Dict[str, str]] = {
    "en": {
        "welcome": "Welcome to SubsMarket! ğŸš€",
        "my_clubs_title": "<b>My Clubs</b> ğŸ‘‘",
        "my_clubs_empty": "You don't have any subscriptions yet.",
        "search_title": "ğŸ” <b>Search Clubs</b>\nSelect a category:",
        "search_found": "ğŸ” Found {count} clubs in {category}:",
        "category_video": "ğŸ¬ Video",
        "category_music": "ğŸµ Music",
        "category_all": "ğŸ“‚ All",
        "btn_video": "ğŸ¬ Video",
        "btn_music": "ğŸµ Music", 
        "btn_all": "ğŸ“‚ All",
        "join_status": "â„¹ï¸ Join Status: {status}",
        "club_price": "ğŸ’° Price: {amount} â‚¸",
        "club_members": "ğŸ‘¥ Members: {count} / {capacity}",
        "club_status": "â„¹ï¸ Status: {status}",
        "club_id": "ğŸ†” ID: <code>{club_id}</code>",
        "btn_back": "ğŸ”™ Back",
    },
    "ru": {
        "welcome": "Ğ”Ğ¾Ğ±Ñ€Ğ¾ Ğ¿Ğ¾Ğ¶Ğ°Ğ»Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ² SubsMarket! ğŸš€",
        "my_clubs_title": "<b>ĞœĞ¾Ğ¸ ĞšĞ»ÑƒĞ±Ñ‹</b> ğŸ‘‘",
        "my_clubs_empty": "Ğ£ Ğ²Ğ°Ñ Ğ¿Ğ¾ĞºĞ° Ğ½ĞµÑ‚ Ğ¿Ğ¾Ğ´Ğ¿Ğ¸ÑĞ¾Ğº.",
        "search_title": "ğŸ” <b>ĞŸĞ¾Ğ¸ÑĞº ĞšĞ»ÑƒĞ±Ğ¾Ğ²</b>\nĞ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ñ:",
        "search_found": "ğŸ” ĞĞ°Ğ¹Ğ´ĞµĞ½Ğ¾ {count} ĞºĞ»ÑƒĞ±Ğ¾Ğ² Ğ² ĞºĞ°Ñ‚ĞµĞ³Ğ¾Ñ€Ğ¸Ğ¸ {category}:",
        "category_video": "ğŸ¬ Ğ’Ğ¸Ğ´ĞµĞ¾",
        "category_music": "ğŸµ ĞœÑƒĞ·Ñ‹ĞºĞ°",
        "category_all": "ğŸ“‚ Ğ’ÑĞµ",
        "btn_video": "ğŸ¬ Ğ’Ğ¸Ğ´ĞµĞ¾",
        "btn_music": "ğŸµ ĞœÑƒĞ·Ñ‹ĞºĞ°",
        "btn_all": "ğŸ“‚ Ğ’ÑĞµ",
        "join_status": "â„¹ï¸ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ Ğ²ÑÑ‚ÑƒĞ¿Ğ»ĞµĞ½Ğ¸Ñ: {status}",
        "club_price": "ğŸ’° Ğ¦ĞµĞ½Ğ°: {amount} â‚¸",
        "club_members": "ğŸ‘¥ Ğ£Ñ‡Ğ°ÑÑ‚Ğ½Ğ¸ĞºĞ¸: {count} / {capacity}",
        "club_status": "â„¹ï¸ Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: {status}",
        "club_id": "ğŸ†” ID: <code>{club_id}</code>",
        "btn_back": "ğŸ”™ ĞĞ°Ğ·Ğ°Ğ´",
    },
    "kk": {
        "welcome": "SubsMarket-ĞºĞµ Ò›Ğ¾Ñˆ ĞºĞµĞ»Ğ´Ñ–Ò£Ñ–Ğ·! ğŸš€",
        "my_clubs_title": "<b>ĞœĞµĞ½Ñ–Ò£ ĞšĞ»ÑƒĞ±Ñ‚Ğ°Ñ€Ñ‹Ğ¼</b> ğŸ‘‘",
        "my_clubs_empty": "Ğ¡Ñ–Ğ·Ğ´Ğµ Ó™Ğ·Ñ–Ñ€Ğ³Ğµ Ğ¶Ğ°Ğ·Ñ‹Ğ»Ñ‹Ğ¼Ğ´Ğ°Ñ€ Ğ¶Ğ¾Ò›.",
        "search_title": "ğŸ” <b>ĞšĞ»ÑƒĞ±Ñ‚Ğ°Ñ€Ğ´Ñ‹ Ñ–Ğ·Ğ´ĞµÑƒ</b>\nĞ¡Ğ°Ğ½Ğ°Ñ‚Ñ‚Ñ‹ Ñ‚Ğ°Ò£Ğ´Ğ°Ò£Ñ‹Ğ·:",
        "search_found": "ğŸ” {category} ÑĞ°Ğ½Ğ°Ñ‚Ñ‹Ğ½Ğ´Ğ° {count} ĞºĞ»ÑƒĞ± Ñ‚Ğ°Ğ±Ñ‹Ğ»Ğ´Ñ‹:",
        "category_video": "ğŸ¬ Ğ’Ğ¸Ğ´ĞµĞ¾",
        "category_music": "ğŸµ ĞœÑƒĞ·Ñ‹ĞºĞ°",
        "category_all": "ğŸ“‚ Ğ‘Ğ°Ñ€Ğ»Ñ‹Ò“Ñ‹",
        "btn_video": "ğŸ¬ Ğ’Ğ¸Ğ´ĞµĞ¾",
        "btn_music": "ğŸµ ĞœÑƒĞ·Ñ‹ĞºĞ°",
        "btn_all": "ğŸ“‚ Ğ‘Ğ°Ñ€Ğ»Ñ‹Ò“Ñ‹",
        "join_status": "â„¹ï¸ ÒšĞ¾ÑÑ‹Ğ»Ñƒ Ğ¼Ó™Ñ€Ñ‚ĞµĞ±ĞµÑÑ–: {status}",
        "club_price": "ğŸ’° Ğ‘Ğ°Ò“Ğ°ÑÑ‹: {amount} â‚¸",
        "club_members": "ğŸ‘¥ ÒšĞ°Ñ‚Ñ‹ÑÑƒÑˆÑ‹Ğ»Ğ°Ñ€: {count} / {capacity}",
        "club_status": "â„¹ï¸ ĞšÒ¯Ğ¹Ñ–: {status}",
        "club_id": "ğŸ†” ID: <code>{club_id}</code>",
        "btn_back": "ğŸ”™ ĞÑ€Ò›Ğ°Ò“Ğ°",
    }
}

DEFAULT_LANG = "ru"

def get_text(key: str, lang: str = DEFAULT_LANG, **kwargs) -> str:
    # Fallback to default if lang not supported of empty
    if not lang or lang not in TRANSLATIONS:
        lang = DEFAULT_LANG
    
    text = TRANSLATIONS[lang].get(key, TRANSLATIONS[DEFAULT_LANG].get(key, key))
    if kwargs:
        return text.format(**kwargs)
    return text
